{"version":3,"sources":["composants/video-List-item.js","containers/video-List.js","composants/video.js","composants/searchBar.js","composants/video-detail.js","containers/App.js","reportWebVitals.js","index.js"],"names":["VideoListItem","props","movie","className","onClick","callback","width","src","poster_path","class","title","vote_count","vote_average","VideoList","movieList","map","recevoirCallBack","Video","videoId","height","Search","state","placeholder","inputValue","event","this","setState","target","value","type","onChange","handleChange","bind","handleClick","Component","VideoDetail","description","API_KEY","API_END_POINT","App","currentMovie","initMovies","axios","get","then","res","data","results","slice","applyCurrentVideo","id","videos","youtubeKey","key","newCurrentMovieState","setRecommendation","searchText","console","log","onClickSearch","original_title","overview","length","renderVideoList","React","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0935d94c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\r\n\r\nconst VideoListItem = (props) => {\r\n    let movie = props.movie;\r\n    return (\r\n          <div className=\"flex my-2 px-2 max-w-sm w-full lg:max-w-full lg:flex\" onClick={handleClick}>\r\n             <img width=\"75px\" src={`${IMAGE_URL}${movie.poster_path}`} />\r\n             <div class=\"border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between w-card\">\r\n                <h2>{movie.title}</h2>\r\n                <p>Votes: {movie.vote_count}</p>\r\n                <p>Moyenne: {movie.vote_average}</p>\r\n             </div>\r\n         </div>\r\n    );\r\n\r\n    function handleClick() {\r\n        props.callback(movie);\r\n    }\r\n}\r\n\r\nexport default VideoListItem;\r\n\r\n","import React from 'react';\r\nimport VideoListItem from '../composants/video-List-item';\r\n\r\nconst VideoList = (props) => {\r\n    let movieList = props.movieList\r\n    return (\r\n        <div className=\"w-1/3 w-full ml-2  hauteur\">\r\n            <div className=\"bg-gray-200\"><h1>VIDEOS POPULAIRES</h1></div>\r\n            <div  className=\"overscroll-x-none overflow-auto hauteur\" >\r\n                \r\n                <ul>\r\n                    {\r\n                        movieList = props.movieList.map(movie => {\r\n                            return (\r\n                                <li>\r\n                                    <VideoListItem movie = {movie} callback={recevoirCallBack}/>\r\n                                    \r\n                                </li>\r\n                            )\r\n                        })\r\n                    }\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    function recevoirCallBack(movie) {\r\n        props.callback(movie);\r\n    }\r\n}\r\n\r\nexport default VideoList;","import React from 'react';\r\n\r\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\r\nconst youtube = 'https://www.youtube.com/embed/';\r\n\r\nconst Video = (props) => {\r\n    let videoId = props.videoId;\r\n    return <iframe className=\"flex\" width=\"640\"  height=\"400\" src={`${youtube}${videoId}`}  />\r\n    \r\n}\r\n\r\nexport default Video;","import React, { Component } from \"react\";\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      placeholder: \"Recherchez un film\",\r\n      inputValue: \"\",\r\n    };\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ inputValue: event.target.value });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"bg-gray-200 mb-4 py-4\">\r\n            <input className=\"rounded-2xl px-2\" type=\"text\" placeholder={this.state.placeholder}\r\n            onChange={this.handleChange.bind(this)}/>\r\n            <button className=\"bg-gray-400 hover:bg-gray-700 text-white hover:font-bold px-4 hover:rounded-full rounded-full\" \r\n            onClick={this.handleClick.bind(this)}> Search </button>  \r\n        </div>\r\n    );\r\n  }\r\n\r\n  handleClick() {\r\n    this.props.callback(this.state.inputValue);\r\n  }\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\n\r\nconst VideoDetail = (props) => {\r\n    return (\r\n        <div className=\"bg-gray-200\">\r\n            <h1 className=\"text-4xl\" >{props.title}</h1>\r\n            <p>{props.description}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VideoDetail;","import '../App.css';\r\nimport React from 'react';\r\nimport VideoList from './video-List';\r\nimport Video from '../composants/video';\r\nimport Search from '../composants/searchBar';\r\nimport axios from 'axios';\r\nimport VideoDetail from '../composants/video-detail';\r\n\r\n\r\nconst API_KEY = 'api_key=b1bb009f89a909c0ae0b65bc17104e0e';\r\nconst API_END_POINT = 'https://api.themoviedb.org/3/';\r\nconst POPULAR_MOVIES_URL = \"discover/movie?language=fr&sort_by=popularity.desc&include_adult=false&append_to_response=images\";\r\nconst SEARCH_URL = \"search/movie?language=fr&include_adult=false\";\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            movieList: {},\r\n            currentMovie: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.initMovies();\r\n    }\r\n\r\n    initMovies(){\r\n        axios.get(`${API_END_POINT}${POPULAR_MOVIES_URL}&${API_KEY}`).then(function(res){\r\n            this.setState({\r\n                movieList: res.data.results.slice(1, 16),\r\n                currentMovie: res.data.results[0]\r\n            }, function(){\r\n                this.applyCurrentVideo();\r\n            });\r\n        }.bind(this));        \r\n    }\r\n\r\n    applyCurrentVideo(){\r\n        axios.get(`${API_END_POINT}movie/${this.state.currentMovie.id}?${API_KEY}&append_to_response=videos&include_adult=false`).then(function (res){\r\n            if (res.data.videos && res.data.videos.results[0]) {\r\n                const youtubeKey = res.data.videos.results[0].key;\r\n                let newCurrentMovieState = this.state.currentMovie;\r\n                newCurrentMovieState.videoId = youtubeKey;\r\n                this.setState({ currentMovie: newCurrentMovieState });\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    recevoirCallBack(movie){\r\n        this.setState({currentMovie: movie}, ()=> {\r\n            this.applyCurrentVideo();\r\n            this.setRecommendation();\r\n        });\r\n\r\n    }\r\n\r\n    setRecommendation(){\r\n        axios.get(`${API_END_POINT}movie/${this.state.currentMovie.id}/recommendations?${API_KEY}&language=fr`).then(function(res){\r\n            this.setState({movieList: res.data.results.slice(0, 15)});\r\n        }.bind(this));\r\n    }\r\n\r\n    onClickSearch(searchText){\r\n        axios.get(`${API_END_POINT}${SEARCH_URL}&${API_KEY}&query=${searchText}`).then(function (res){\r\n            console.log('----Movie search----' ,res);\r\n            if (res.data && res.data.results[0]) {\r\n                if (res.data.results[0].id !== this.state.currentMovie.id) {\r\n                    this.setState({ currentMovie: res.data.results[0] }, () => {\r\n                        this.applyCurrentVideo();\r\n                        this.setRecommendation();\r\n                    })\r\n                }\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    render() {\r\n\r\n        const renderVideoList = () => {\r\n            if(this.state.movieList.length >= 15){\r\n                return <VideoList movieList = {this.state.movieList} callback={this.recevoirCallBack.bind(this)}/>\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"App container mx-auto justify-center \">\r\n                <Search callback={this.onClickSearch.bind(this)}/>\r\n                <div className=\"flex\">\r\n                    <div className=\"w-2/3\">\r\n                        <Video videoId = {this.state.currentMovie.videoId}/>\r\n                        <VideoDetail title = {this.state.currentMovie.original_title} description = {this.state.currentMovie.overview} />\r\n                    </div>\r\n                    {renderVideoList()}\r\n                </div>       \r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}